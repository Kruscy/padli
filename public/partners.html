<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>TÃ¡rsoldalak â€“ PadlizsanFanSub</title>

  <link rel="stylesheet" href="/css/search.css">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/sidebar.css">
  <link rel="stylesheet" href="/css/partners.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
</head>
<body>

<!-- header majd jÃ¶n tÅ‘led -->
<header class="topbar">
  <button id="menuToggle" class="menu-btn">â˜°</button>
 
    <a href="/" class="logo">
    <img src="/assets/logo.png" alt="PadlizsanFanSub">
    <span>PadlizsanFanSub</span>
  </a>

  <div class="search-wrapper">
    <input
      type="text"
      id="searchInput"
      placeholder="Search manga..."
      autocomplete="off"
    />
    <div id="searchResults" class="search-results hidden"></div>
  </div>
<a
  href="https://patreon.com/Padlizsanfansub"
  target="_blank"
  class="patreon"
  title="Support us on Patreon"
>
  <img src="/assets/pat2.png" alt="Patreon">
</a>
<button id="logoutBtn" class="icon-btn" title="Logout">
  <img src="/assets/logout.png" alt="Logout">
</button>

<script>
document.getElementById("logoutBtn")?.addEventListener("click", async () => {
  await fetch("/api/auth/logout", { method: "POST" });
  location.href = "/login.html";
});
</script>

</header>

<!-- SIDEBAR -->
<aside id="sidebar" class="sidebar">
  <nav>
    <a href="/">ğŸ  Home</a>
    <a href="/want.html">â­ Want To Read</a>
    <a href="/collections.html">ğŸ“š Collections</a>
    <a href="/bookmarks.html">ğŸ”– Bookmarks</a>
    <hr>
    <a href="/partners.html" class="active">ğŸ¤ TÃ¡rsoldalak</a>
  </nav>
</aside>

<div id="overlay" class="overlay"></div>
<script>
let allManga = [];

fetch("/api/manga")
  .then(r => r.json())
  .then(data => {
    allManga = data;
  });

const input = document.getElementById("searchInput");
const results = document.getElementById("searchResults");

input.addEventListener("input", () => {
  const q = input.value.toLowerCase().trim();
  results.innerHTML = "";

  if (!q) {
    results.classList.add("hidden");
    return;
  }

  const matches = allManga
    .filter(m => m.title.toLowerCase().includes(q))
    .slice(0, 10);

  if (!matches.length) {
    results.classList.add("hidden");
    return;
  }

  matches.forEach(m => {
    const div = document.createElement("div");
    div.className = "search-item";

    div.innerHTML = `
      <img src="${m.cover_url || "/assets/no-cover.png"}">
      <span>${m.title}</span>
    `;

    div.onclick = () => {
      window.location.href = `/chapters.html?slug=${m.slug}`;
    };

    results.appendChild(div);
  });

  results.classList.remove("hidden");
});

// kattint  s m  shova  ^f^r bez  r
document.addEventListener("click", e => {
  if (!e.target.closest(".search-wrapper")) {
    results.classList.add("hidden");
  }
});
</script>

<main class="content partners-page">
  <h1>ğŸ¤ TÃ¡rsoldalak</h1>

  <div class="partners-grid">

    <a class="partner-card" href="http://148-230-70-15.nip.io/index.html" target="_blank">
      <h2>Aeliin</h2>
      <p>Fansub oldal</p>
    </a>

    <div class="partner-group">
      <h2>Nezuko</h2>

      <a class="partner-card small" href="https://uraharashop.hu/projects/856/myst-might-mayhem" target="_blank">
        Myst â€“ Might & Mayhem
      </a>

      <a class="partner-card small" href="https://uraharashop.hu/projects/855/the-regressed-mercenary-has-a-plan" target="_blank">
        The Regressed Mercenary Has a Plan
      </a>
    </div>

    <a class="partner-card" href="https://kecskefansub.com/" target="_blank">
      <h2>KecskeFanSub</h2>
      <p>FordÃ­tÃ¡sok & projektek</p>
    </a>

  </div>
</main>

<script src="/js/auth-check.js"></script>
<script src="/js/sidebar.js"></script>

</body>
</html>
