<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>PadlizsanFanSub</title>
<style>
body {
  margin: 0;
  background: url("/assets/bg.svg") center / cover fixed;
  color: #eee;
  font-family: "Segoe UI", Arial, sans-serif;
}
header {
  text-align: center;
  padding: 24px;
}
header img {
  height: 80px;
}
main {
  max-width: 900px;
  margin: auto;
  background: rgba(0,0,0,0.65);
  padding: 20px;
  border-radius: 10px;
}
ul {
  padding: 0;
}
li {
  list-style: none;
  margin: 6px 0;
  padding: 8px 12px;
  border-radius: 6px;
  background: rgba(255,255,255,0.05);
}
a {
  color: #9cf;
  text-decoration: none;
}
</style>
</head>
<body>

<header>
  <img src="/assets/logo.svg" alt="PadlizsanFanSub">
</header>

<main>
  <h1 id="title">Fejezetek</h1>
  <ul id="chapterList">Betöltés…</ul>
</main>

<script>
const params = new URLSearchParams(location.search);
const slug = params.get("manga");

fetch(`/api/chapters/${slug}`)
  .then(r => r.json())
  .then(data => {
    const ul = document.getElementById("chapterList");
    ul.innerHTML = "";
    data.forEach(c => {
      const li = document.createElement("li");
      li.innerHTML =
        `<a href="/reader.html?manga=${slug}&chapter=${c.folder}">
          ${c.title}
        </a>`;
      ul.appendChild(li);
    });
  });
</script>

</body>
</html>
